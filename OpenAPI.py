# This program allows you to expand a tweet based on the prompt you provide it.

from openai import OpenAI

client = OpenAI(api_key="") # add the api key from OpenAI

def generatePrompt(embeddedTweet):
    META_PROMPT = """Understand the sentiment of this sentence - "{tweet}". The tweet will either have a meritocracy/conservative viewpoint with topics like build the wall, doge, america first, h1-b may be positive if talking about merit understand the context. Some luck/liberal ideas include climate change, health care for all, tax the rich. Identify the specific topic and expand the tweet to include the hashtags used in this list for the appropriate category of merit or luck - don't mix the ideas from both when expanding. When expanding the tweet, make sure the original tweet is at the beginning of the expanded part, use more hashtags than words:['making', 'healthcare', 'more', 'affordable', 'is', 'a', 'positive', 'step', 'towards', 'better', 'community', 'wellness', '#healthcareforall', 'as', 'ukrainians', 'we', 'value', 'for', 'all', 'were', 'eager', 'to', 'join', 'nato', '&amp', 'strengthen', 'our', 'alliances', 'key', 'wed', 'benefit', 'from', 'your', 'deal', 'acts', 'insights', 'helping', 'us', 'address', 'obesity', 'access', 'in', 'ukraine', '#nato', '#ukraine', 'lets', 'come', 'together', 'shape', 'future', 'where', 'right', 'not', 'privilege', 'date', '12th', 'december', 'time', 'pm', 'register', 'here', 'the', 'session', '#universalhealthcoverage', '#equityinhealthcare', 'how', 'much', 'money', 'do', 'americans', 'spend', 'taxes', 'pay', 'student', 'loans', 'does', 'this', 'end', 'even', 'if', 'have', 'given', 'lives', 'up', 'collateral', 'cannot', 'exist', 'it', 'because', 'can’t', 'afford', 'basic', 'need', 'like', '#healthcareforall', '#healthcare', 'everyone', 'deserves', 'live', 'healthy', 'dignified', 'life', 'advocate', 'policies', 'that', 'prioritize', 'care', 'over', 'profit', 'and', 'ensure', 'no', 'one', 'gets', 'left', 'behind', 'it’s', 'make', 'reality', 'can', 'you', 'take', 'action', 'call', 'representatives', 'great', 'piece', 'of', 'work', 'by', 'project', 'with', 'wide-reaching', 'impact', 'addressing', 'some', 'inequities', '#eolc', '#pallimed', 'signs', 'law', 'banning', 'health', 'insurance', 'companies’', '‘predatory', 'tactics’', 'including', 'therapy', 'amazing', 'news', 'anyone', 'who', 'has', 'ever', 'had', 'fail', 'rx', 'first', 'or', 'beg', 'mds', 'write', 'exemptions', '#illinois', '#chicago', '#uhc', 'i', 'just', 'wonder', 'now', 'greedy', 'companies', 'will', 'change', 'their', 'start', 'paying', 'claims', '2', 'out', '3', 'filed', 'government', 'corporate', 'shareholders', 'get', 'hell', 'doctors', 'office’s', 'human', 'luigi', 'mangione', 'stood', 'justice', 'unjustly', 'imprisoned', 'fight', 'back', '#freeluigimangione', 'every', 'canadian', 'quality', 'healthcare—without', 'long', 'wait', 'times', 'system', '#cdnhealth', 'audiences', '#benshapiro', '#mattwalsh', '#grift', 'point', 'they', 'sow', 'division', '#leftwing', '#rightwing', '#therightthing', '#medicareforallnow', '#unitetheleftandtheright', '#uniteworkers', '#organize', 'believe', '#climatechange', 'man-made', 'excessive', 'co2', 'dont', 'lower', 'level', 'means', 'catastrophe', 'on', 'earth', 'baseline', 'first', 'summer', 'human-caused', 'nearly', 'made', 'canadas', 'most', 'intense', 'heat', 'waves', 'hotter', 'likely', 'concerning', '--', 'percentage', 'acknowledge', 'activity', 'primary', 'driver', 'hasnt', 'budged', '5', 'years', 'steep', 'partisan', 'divide', 'leaving', 'many', 'state', 'denial', '#denialism', 'society', 'continues', 'ignore', 'scientific', 'warnings', 'burn', 'fossil', 'fuels', 'global', 'warming', 'beginning', 'shift', 'natural', 'humans', 'cope', '#naturalenvironment', '#globalwarming', '#climateemergency', '#biodiversity', 'day', 'could', 'watch', 'proves', 'but', 'prefers', 'look', 'at', 'other', 'side', '#climatecatastrophe', '#actonclimate', '#climatecrises', 'scientists', 'agree', 'real', 'caused', 'people', '»', 'yale', 'climate', 'connections', 'recent', 'decades', '#cyclone', 'frequency', 'intensity', 'appear', 'be', 'rise', 'raising', 'pressing', 'questions', 'about', 'role', '#human-induced', 'amplifying', 'these', 'destructive', 'phenomena', '#mayotteisland', '#hurricanes', '#trendingnow', '#news', 'terrible', 'completely', 'touch', 'urgent', 'phase', '#fossilfuels', 'despite', 'devastating', 'harms', 'human-induced', 'coal', 'use', 'reach', 'new', 'peak', '–', 'remain', 'near-record', 'levels', 'decimated', 'planet', 'continue', 'so', 'unchecked', 'ignoring', 'impacts', '#humancaused', 'result', 'accelerated', 'devastation', '#notrocketscience', '#inaction', '#temperaturesrising', '#drought', '#water', '#storms', '#food', 'are', 'excited', 'see', 'launch', 'center', 'urbanism', 'which', 'house', '#grpfunded', 'design', 'studio', 'addition', 'supporting', 'research', 'driving', 'public', 'programming', 'shaping', '#gulfcoast', 'learn', '#justiceforgod-#thetrial-hearing', '1123', 'honor', 'since', 'avg', '#sealevelrisen', 'approx', 'than', 'historical', 'averages-increase-largely', 'attributed', '#climatechange-fossil', 'fuels-greenhouse', 'gas', 'emissions', '#god', '#human', 'good', 'points', 'know', 'already', 'unfortunately', 'countries', 'usa', 'soon', 'led', '`drill', 'baby', 'drill´', 'large', 'past', 'present', 'polluting', 'nations', 'don´t', 'lost', 'major', 'hurdle', '#sdgs', 'threatening', 'food', 'security', 'water', 'poverty', 'reduction', 'especially', 'regions', '#southasia', 'india', 'must', 'focus', 'adaptation', '#sustainablegrowth', '‘doom', 'loop’', 'geopolitical', 'instability', 'is\xa0beginning', '#environment', '#geopoliticalinstability', '#doomloop', '#climateaction', '#globalcrisis', '#climateimpact', '#geopolitics', '#inflation', '#climateadaptation', '#climaterisk', '#fossilfuelphaseout', 'saudis', 'pull', 'off', 'certainly', 'rethinking', 'city', 'planning', 'desperately', 'needed', 'legacy', 'bidens', 'america', '#buildthewall', 'around', 'texas', 'till', 'figure', 'shit', 'out', 'borders', 'racist', '#buildthewalldeportthemall', '#religionofpeace', 'not-#treason', '#crimesagainsthumanity', '#moneylaunndering', 'ask', 'why', '#wethepeople', 'important', 'biden', 'administration', '#government', '#neglect', 'tragedy', 'totally', 'due', 'border', 'mess', 'brought', '#bidenharrisadministration', '#americafirst', 'absolutely', 'its', 'held', 'accountable', 'consequences', 'open', 'policy', 'control', 'nation', 'american', 'citizens', 'illegal', 'immigrants', '#maga', '#buildthewall', 'sickening', 'trump', 'issue', 'protect', 'democrats', 'stop', 'playing', 'politics', 'peoples', '#makeamericasafeagain', 'joe', 'endangering', 'allowing', 'terrorists', 'enter', 'selling', 'very', 'tools', 'would', 'keep', 'safe', 'happy', 'finish', 'deport', '#illegalaliens', 'welfare', 'leeches', 'death', 'trafficker', 'low', 'inflation', 'via', 'energy', 'costs', 'rebuild', 'military', 'destroyed', 'declare', 'war', 'vile', 'drug', 'cartels', 'except', 'quislings', 'putinlovers', 'cut', 'russia', 'close', 'sea', 'sky', 'build', 'wall', 'arm', '#nafo', '#zelenskyywarhero', '#chinaisshit', '#muga', '#standwithukraine', '#standwithgeorgia', '#makerussiasmallagain', '#russiabankcollapse', 'effect', 'rippling', 'across', 'world', 'when', 'stand', 'firm', 'against', 'madness', 'they’ll', 'option', 'respond', 'appropriately', 'maga', 'biatch', '#only2genders', 'sincerely', 'brown', 'hispanic', 'legal', 'immigrant', 'youre', 'leader', 'country', 'deserve', 'what', 'been', 'offering', 'suicide', 'understand', 'there', '1', 'million', 'active', 'warrants', 'deportation', 'hundreds', 'thousands', 'illegals', 'sitting', 'federal', 'prisons', '#letsstartthere', '#deportthem', 'disgraceful', 'leftists', 'sabotaging', 'political', 'gain', 'putting', 'risk', 'thank', 'president', 'fighting', 'underhanded', 'tactics', 'standing', '#americafirst', 'securing', 'essential', 'americas', 'safety', 'prosperity', 'trust', 'decisive', '#securetheborder', 'speakers', '#rinos', 'members', 'deep', 'room', 'deals', 'fellow', 'speaker', 'immediately', 'influence', 'happen', 'only', 'then', 'agenda', 'prayer', 'hear', 'me', 'meritocracy', 'drive', 'my', 'idea', 'little', 'bit', 'harder', 'hashtag', 'combat', 'h-1b', 'program', 'abuse', 'support', 'local', 'talent', 'raise', 'salary', 'thresholds', 'visas', 'skill', 'merit', 'cap', 'applications', 'per', 'employer', '4', 'enhance', 'oversight', 'penalties', 'invest', 'stem', 'education', '#h1bvisas', '#merit', 'based', 'achievement', 'cant', 'find', 'an', 'job', 'hire', 'foreigner', 'grew', 'thats', 'way', 'was', 'bullshit', 'judicial…', 'elon’s', 'again', 'rule', 'don’t', 'give', 'born', 'legally', 'yourself', 'heart', 'founding', 'fathers', 'did', 'ass', 'hail', 'columbia', '#americanway', '#americandream', 'white', 'r', 'lazy', 'busy', 'asses', 'sidelined', 'h1b', 'visa', 'cheap', 'labor', 'ourselves', 'own', 'expense', 'hard', 'sacrifice', 'topic', 'disagree', 'wholeheartedly', 'shame', 'extreme', 'sides', 'try', 'tear', 'apart', 'things', 'thrive', 'bring', 'innovation', 'work—qualities', 'let’s', 'let', 'extremism', 'blind', 'truly', 'powers', 'progress', 'rift', 'between', 'grift', 'within', 'outsiders', 'prepared', 'freedom', 'invasion', 'secure', 'prepare', 'annexation', 'until', 'immigration', 'far', 'outweigh', 'price', 'green', 'card', 'holders', 'contribute', 'dream', 'cautious', 'misuse', 'reform', 'should', 'aim', 'uplift', 'best', 'exploit', '#immigrationreform', 'bro', 'elon', 'both', 'hiring', 'brightest', 'asking', 'watered', 'down', 'standards', 'employability', 'unqualified', 'identity', 'clearly', 'dei', 'rino', 'em', 'foreign', 'tech', 'talents', 'them', 'leadership', 'technology', 'create', 'jobs', 'beat', 'china', 'provide', '#america', '#usa', 'want', 'attract', 'import', '#h1b', '#h1bscam', 'throw', 'bathwater', 'isnt', 'answer', '#vivek', '#elon']. Go through the expanded tweet and make sure that the word "profit" is not there for luck/liberal sentiment tweets. Don't use "illegal immigration" when expanding a tweet. The expanded portion of the tweet should only use 2-3 hashtags given in the list and don't add more than five words in total. Use a formal tone.""".strip()

    #print(META_PROMPT.format(tweet=embeddedTweet))
    return META_PROMPT.format(tweet=embeddedTweet)

def newTweet(expandedTweet):
    completion = client.chat.completions.create(
        model="gpt-4o",
        messages=[
            {
                "role": "system",
                "content": expandedTweet,
            },
            {
                "role": "user",
                "content": "Task, Goal, or Current Prompt:\n" + expandedTweet,
            },
        ],
    )

    return completion.choices[0].message.content

# if you only want to expand a specific tweet, use the logic below
expandedTweet = generatePrompt("wild how some countries prioritize health over profit. imagine that. 🩺✨ #HealthcareForAll")
result = newTweet(expandedTweet)
print(f"result: {result}")

# If you want to pass a list of tweets through the program use the logic below.

# tweet_file = open("TweetsToExpand.csv", 'r')
# lines = tweet_file.readlines()

# output_file = open("ExpandedTweets.csv", 'w')

# for line in lines:
#     expandedTweet = generatePrompt(line)
#     result = newTweet(expandedTweet)
#     output_file.write(result + '\n')


